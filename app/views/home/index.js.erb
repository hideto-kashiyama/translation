  
  //helpers/home_helper.rb  translate英訳　translatej 和訳
   if (gid) {
       var transtext="<%= translate %>";
       
     } else {
     
        var transtext="<%= translatej%>";
     }  
 
 var txt=transtext.replace( /&amp;#39;/g , "'" );

 $('#txtTarget').val(txt);
 
   var text =  $('#txtTarget').val();
 
    if (gid) {
      
       var uttr = new SpeechSynthesisUtterance();
       uttr.text = text;
       uttr.lang = 'en-US';
       
        setTimeout(function(){
        
          speechSynthesis.speak(uttr);
     
       },500);
        
     } else {
     
      var radio_sp= $("input[name='sp']:checked").val();　//日本語音声選択値 0 :AITalk 2 :google
         
         if ( radio_sp==2 ) {
         
           var uttr = new SpeechSynthesisUtterance();
           uttr.text = text;  
           uttr.lang = 'ja-JP';
           
           setTimeout(function(){
        
            speechSynthesis.speak(uttr);
     
           },500);
          
          } else {
          
            $("#aimbtn").click();//AITalk ruby音声合成
          
         }   

     }
 	
 <%= atk %>
 


 

